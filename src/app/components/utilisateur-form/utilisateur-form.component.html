<div class="form-container">
    <div class="form-header">
        <h2>{{ isEditMode ? 'Modifier un utilisateur' : 'Créer un utilisateur' }}</h2>
    </div>

    <form [formGroup]="utilisateurForm" (ngSubmit)="onSubmitForm()">
        <div class="form-group">
            <label for="nom">Nom:*</label>
            <input type="text" id="nom" formControlName="nom" class="form-control" placeholder="Nom" />
            <div class="error-message" *ngIf="f['nom'].invalid && f['nom'].touched">
                Le nom est requis
            </div>
        </div>

        <div class="form-group">
            <label for="prenom">Prénom:*</label>
            <input type="text" id="prenom" formControlName="prenom" class="form-control" placeholder="Prénom" />
            <div class="error-message" *ngIf="f['prenom'].invalid && f['prenom'].touched">
                Le prénom est requis
            </div>
        </div>

        <div class="form-group">
            <label for="mail">Email:*</label>
            <input type="email" id="mail" formControlName="mail" class="form-control" placeholder="email@example.com" />
            <div class="error-message" *ngIf="f['mail'].invalid && f['mail'].touched">
                <span *ngIf="f['mail'].errors?.['required']">L'email est requis</span>
                <span *ngIf="f['mail'].errors?.['email']">L'email doit être valide</span>
            </div>
        </div>

        <div class="form-group">
            <label for="username">Nom d'utilisateur:*</label>
            <input type="text" id="username" formControlName="username" class="form-control"
                placeholder="Nom d'utilisateur" />
            <div class="error-message" *ngIf="f['username'].invalid && f['username'].touched">
                Le nom d'utilisateur est requis
            </div>
        </div>

        <div class="form-group">
            <label for="password">Mot de passe:{{ isEditMode ? '' : '*' }}</label>
            <input type="password" id="password" formControlName="password" class="form-control"
                placeholder="Mot de passe" />
            <div class="error-message" *ngIf="f['password'].invalid && f['password'].touched">
                <span *ngIf="f['password'].errors?.['required']">Le mot de passe est requis</span>
                <span *ngIf="f['password'].errors?.['minlength']">Le mot de passe doit contenir au moins 6
                    caractères</span>
            </div>
            <small class="form-hint" *ngIf="isEditMode">Laissez vide pour conserver le mot de passe actuel</small>
        </div>

        <div class="form-actions">
            <button type="button" class="btn btn-secondary" (click)="cancel()">
                Annuler
            </button>
            <button type="submit" class="btn btn-primary" [disabled]="utilisateurForm.invalid">
                {{ isEditMode ? 'Modifier' : 'Créer' }}
            </button>
        </div>
    </form>
</div>